{"version":3,"file":"src_app_pages_profile_profile_module_ts.js","mappings":";;;;;;;;;;;;;;;;;;AAAyC;AACc;AAEV;AAE7C,MAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,sDAAW;KACvB;CACF,CAAC;IAMW,wBAAwB,SAAxB,wBAAwB;CAAG;AAA3B,wBAAwB;IAJpC,uDAAQ,CAAC;QACR,OAAO,EAAE,CAAC,kEAAqB,CAAC,MAAM,CAAC,CAAC;QACxC,OAAO,EAAE,CAAC,yDAAY,CAAC;KACxB,CAAC;GACW,wBAAwB,CAAG;AAAH;;;;;;;;;;;;;;;;;;;;;;;AChBI;AACM;AACF;AAEA;AAEuB;AAEvB;IAWhC,iBAAiB,SAAjB,iBAAiB;CAAG;AAApB,iBAAiB;IAT7B,uDAAQ,CAAC;QACR,OAAO,EAAE;YACP,yDAAY;YACZ,uDAAW;YACX,uDAAW;YACX,6EAAwB;SACzB;QACD,YAAY,EAAE,CAAC,sDAAW,CAAC;KAC5B,CAAC;GACW,iBAAiB,CAAG;AAAH;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACnB9B;AACA;AACA;AACA;AACA;IAOaO,WAAW,SAAXA,WAAW;EAEtBC,YACSC,SADT,EAESC,OAFT,EAGSC,KAHT,EAG4B;IAFnB;IACA;IACA;IAJF,eAAc,IAAd;IAML,KAAKF,SAAL,CAAeG,cAAf,GAAgCC,SAAhC,CAA0CC,IAAI,IAAG;MAC/C,KAAKC,OAAL,GAAeD,IAAf;IACD,CAFD;EAGD;;EAEKE,WAAW;IAAA;;IAAA;MACf,MAAMC,KAAK,SAASjB,8DAAA,CAAgB;QAClCmB,OAAO,EAAE,EADyB;QAElCC,YAAY,EAAE,KAFoB;QAGlCC,UAAU,EAAEpB,sEAHsB;QAIlCsB,MAAM,EAAErB,kEAAmBsB;MAJO,CAAhB,CAApB;MAMAC,OAAO,CAACC,GAAR,CAAYT,KAAZ;;MAEA,IAAGA,KAAH,EAAU;QACR,MAAMU,OAAO,SAAS,KAAI,CAAChB,KAAL,CAAWiB,WAAX,CAAuBC,MAAvB,EAAtB;QACA,MAAMF,OAAO,CAACG,OAAR,EAAN;QAEA,MAAMC,MAAM,SAAS,KAAI,CAACtB,SAAL,CAAeuB,WAAf,CAA2Bf,KAA3B,CAArB;QACA,MAAMU,OAAO,CAACM,OAAR,EAAN;QAEAR,OAAO,CAACC,GAAR,CAAYK,MAAZ,EAAoB,YAApB;;QAEA,IAAG,CAACA,MAAJ,EAAW;UACT,KAAI,CAACpB,KAAL,CAAWuB,SAAX,CAAqB,gBAArB,EAAuC,4CAAvC;QACD;MACF;IArBc;EAsBhB;;EAEKC,MAAM;IAAA;;IAAA;MACV,MAAM,MAAI,CAACzB,OAAL,CAAayB,MAAb,EAAN;;MACA,MAAI,CAACxB,KAAL,CAAWyB,MAAX,CAAkBC,aAAlB,CAAgC,GAAhC,EAAqC;QAAEC,UAAU,EAAE;MAAd,CAArC;;MACAb,OAAO,CAACC,GAAR,CAAY,QAAZ;IAHU;EAIX;;AAxCqB;;;QARfrB,mEAAaA;;QADbD,+DAAWA;;QADXD,iEAAYA;;;AAURI,WAAW,sDALvBD,wDAAS,CAAC;EACTiC,QAAQ,EAAE,aADD;EAETC,UAAAA,0DAFS;;AAAA,CAAD,CAKc,GAAXjC,WAAW,CAAX","sources":["./src/app/pages/profile/profile-routing.module.ts","./src/app/pages/profile/profile.module.ts","./src/app/pages/profile/profile.page.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { ProfilePage } from './profile.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ProfilePage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ProfilePageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ProfilePageRoutingModule } from './profile-routing.module';\n\nimport { ProfilePage } from './profile.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ProfilePageRoutingModule\n  ],\n  declarations: [ProfilePage]\n})\nexport class ProfilePageModule {}\n","import { Camera, CameraResultType, CameraSource } from '@capacitor/camera';\r\nimport { UtilsService } from './../../services/utils.service';\r\nimport { AuthService } from './../../services/auth.service';\r\nimport { AvatarService } from './../../services/avatar.service';\r\nimport { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-profile',\r\n  templateUrl: './profile.page.html',\r\n  styleUrls: ['./profile.page.scss'],\r\n})\r\nexport class ProfilePage {\r\n  public profile:any = null;\r\n  constructor(\r\n    public avatarSvc: AvatarService,\r\n    public authSvc: AuthService,\r\n    public utils: UtilsService\r\n  ) {\r\n    this.avatarSvc.getUserProfile().subscribe(data => {\r\n      this.profile = data;\r\n    });\r\n  }\r\n\r\n  async changeImage(){\r\n    const image = await Camera.getPhoto({\r\n      quality: 90,\r\n      allowEditing: false,\r\n      resultType: CameraResultType.Base64,\r\n      source: CameraSource.Photos\r\n    });\r\n    console.log(image);\r\n\r\n    if(image) {\r\n      const loading = await this.utils.loadingCtrl.create();\r\n      await loading.present();\r\n\r\n      const result = await this.avatarSvc.uploadImage(image);\r\n      await loading.dismiss();\r\n\r\n      console.log(result, 'log result');\r\n\r\n      if(!result){\r\n        this.utils.showAlert('Upload falhou.', 'Não foi possível fazer o upload da imagem.');\r\n      }\r\n    }\r\n  }\r\n\r\n  async logout(){\r\n    await this.authSvc.logout();\r\n    this.utils.router.navigateByUrl('/', { replaceUrl: true });\r\n    console.log('Logout');\r\n  }\r\n}\r\n"],"names":["Camera","CameraResultType","CameraSource","UtilsService","AuthService","AvatarService","Component","ProfilePage","constructor","avatarSvc","authSvc","utils","getUserProfile","subscribe","data","profile","changeImage","image","getPhoto","quality","allowEditing","resultType","Base64","source","Photos","console","log","loading","loadingCtrl","create","present","result","uploadImage","dismiss","showAlert","logout","router","navigateByUrl","replaceUrl","selector","template"],"sourceRoot":"webpack:///"}