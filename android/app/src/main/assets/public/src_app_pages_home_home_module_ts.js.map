{"version":3,"file":"src_app_pages_home_home_module_ts.js","mappings":"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","sources":["./src/app/pages/home/home-routing.module.ts","./src/app/pages/home/home.module.ts","./src/app/pages/home/home.page.ts","./node_modules/@capacitor/camera/dist/esm/definitions.js","./node_modules/@capacitor/camera/dist/esm/index.js"],"sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { HomePage } from './home.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: HomePage,\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class HomePageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { IonicModule } from '@ionic/angular';\nimport { FormsModule } from '@angular/forms';\nimport { HomePage } from './home.page';\n\nimport { HomePageRoutingModule } from './home-routing.module';\n\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    HomePageRoutingModule\n  ],\n  declarations: [HomePage]\n})\nexport class HomePageModule {}\n","import { UtilsService } from './../../services/utils.service';\r\nimport { AuthService } from './../../services/auth.service';\r\nimport { AvatarService } from './../../services/avatar.service';\r\nimport { Component } from '@angular/core';\r\nimport { Camera, CameraResultType, CameraSource } from '@capacitor/camera';\r\n\r\n@Component({\r\n  selector: 'app-home',\r\n  templateUrl: 'home.page.html',\r\n  styleUrls: ['home.page.scss'],\r\n})\r\nexport class HomePage {\r\n  public profile:any = null;\r\n  constructor(\r\n    public avatarSvc: AvatarService,\r\n    public authSvc: AuthService,\r\n    public utils: UtilsService\r\n  ) {\r\n    this.avatarSvc.getUserProfile().subscribe(data => {\r\n      this.profile = data;\r\n    });\r\n  }\r\n\r\n  async changeImage(){\r\n    const image = await Camera.getPhoto({\r\n      quality: 90,\r\n      allowEditing: false,\r\n      resultType: CameraResultType.Base64,\r\n      source: CameraSource.Photos\r\n    });\r\n    console.log(image);\r\n\r\n    if(image) {\r\n      const loading = await this.utils.loadingCtrl.create();\r\n      await loading.present();\r\n\r\n      const result = await this.avatarSvc.uploadImage(image);\r\n      await loading.dismiss();\r\n\r\n      console.log(result, 'log result');\r\n\r\n      if(!result){\r\n        this.utils.showAlert('Upload falhou.', 'Não foi possível fazer o upload da imagem.');\r\n      }\r\n    }\r\n  }\r\n\r\n  async logout(){\r\n    await this.authSvc.logout();\r\n    this.utils.router.navigateByUrl('/', { replaceUrl: true });\r\n    console.log('Logout');\r\n  }\r\n}\r\n","export var CameraSource;\n(function (CameraSource) {\n    /**\n     * Prompts the user to select either the photo album or take a photo.\n     */\n    CameraSource[\"Prompt\"] = \"PROMPT\";\n    /**\n     * Take a new photo using the camera.\n     */\n    CameraSource[\"Camera\"] = \"CAMERA\";\n    /**\n     * Pick an existing photo fron the gallery or photo album.\n     */\n    CameraSource[\"Photos\"] = \"PHOTOS\";\n})(CameraSource || (CameraSource = {}));\nexport var CameraDirection;\n(function (CameraDirection) {\n    CameraDirection[\"Rear\"] = \"REAR\";\n    CameraDirection[\"Front\"] = \"FRONT\";\n})(CameraDirection || (CameraDirection = {}));\nexport var CameraResultType;\n(function (CameraResultType) {\n    CameraResultType[\"Uri\"] = \"uri\";\n    CameraResultType[\"Base64\"] = \"base64\";\n    CameraResultType[\"DataUrl\"] = \"dataUrl\";\n})(CameraResultType || (CameraResultType = {}));\n","import { registerPlugin } from '@capacitor/core';\nconst Camera = registerPlugin('Camera', {\n    web: () => import('./web').then(m => new m.CameraWeb()),\n});\nexport * from './definitions';\nexport { Camera };\n"],"names":["UtilsService","AuthService","AvatarService","Component","Camera","CameraResultType","CameraSource","HomePage","constructor","avatarSvc","authSvc","utils","getUserProfile","subscribe","data","profile","changeImage","image","getPhoto","quality","allowEditing","resultType","Base64","source","Photos","console","log","loading","loadingCtrl","create","present","result","uploadImage","dismiss","showAlert","logout","router","navigateByUrl","replaceUrl","selector","template","CameraDirection","registerPlugin","web","then","m","CameraWeb"],"sourceRoot":"webpack:///"}